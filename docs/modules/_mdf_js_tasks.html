<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@mdf.js/tasks | @mdf.js</title><meta name="description" content="Documentation for @mdf.js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@mdf.js</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@mdf.js</a></li><li><a href="_mdf_js_tasks.html">@mdf.js/tasks</a></li></ul><h1>Module @mdf.js/tasks</h1></div><section class="tsd-panel tsd-typography"><a id="md:mdfjstasks" class="tsd-anchor"></a><h1 class="tsd-anchor-link"><strong>@mdf.js/tasks</strong><a href="#md:mdfjstasks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://nodejs.org/en/" target="_blank" class="external"><img src="https://img.shields.io/static/v1?style=flat&amp;logo=node.js&amp;logoColor=green&amp;label=node&amp;message=%3E=20&amp;color=blue" alt="Node Version"></a>
<a href="https://www.typescriptlang.org/" target="_blank" class="external"><img src="https://img.shields.io/static/v1?style=flat&amp;logo=typescript&amp;label=Typescript&amp;message=5.4&amp;color=blue" alt="Typescript Version"></a>
<a href="https://snyk.io/package/npm/snyk" target="_blank" class="external"><img src="https://img.shields.io/static/v1?style=flat&amp;logo=snyk&amp;label=Vulnerabilities&amp;message=0&amp;color=300A98F" alt="Known Vulnerabilities"></a></p>
<!-- markdownlint-disable MD033 MD041 -->
<p align="center">
  <div style="text-align:center;background-image:radial-gradient(circle farthest-corner at 50% 50%, #104c60, #0c0c13);">
    <img src="https://assets.website-files.com/626a3ef32d23835d9b2e4532/6290ab1e2d3e0d922913a6e3_digitalizacion_ENG.svg"alt="netin"width="500">
  </div>
</p>
<h1 style="text-align:center;margin-bottom:0">Mytra Development Framework - @mdf.js </h1>
<h5 style="text-align:center;margin-top:0">Typescript tools for development</h5>
<!-- markdownlint-enable MD033 -->
<hr>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><strong>Table of contents</strong><a href="#md:table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#md:mdfjstasks"><strong>@mdf.js/tasks</strong></a>
<ul>
<li><a href="#md:table-of-contents"><strong>Table of contents</strong></a></li>
<li><a href="#md:introduction"><strong>Introduction</strong></a></li>
<li><a href="#md:installation"><strong>Installation</strong></a></li>
<li><a href="#md:use"><strong>Use</strong></a>
<ul>
<li><a href="#md:tasks"><strong>Tasks</strong></a>
<ul>
<li><a href="#md:single"><strong>Single</strong></a></li>
<li><a href="#md:group"><strong>Group</strong></a></li>
<li><a href="#md:sequence"><strong>Sequence</strong></a></li>
</ul>
</li>
<li><a href="#md:limiter"><strong>Limiter</strong></a>
<ul>
<li><a href="#md:create-a-new-limiter-limiteroptions"><strong>Create a new limiter (<code>LimiterOptions</code>)</strong></a></li>
</ul>
</li>
<li><a href="#md:scheduling-and-executing-tasks"><strong>Scheduling and executing tasks</strong></a></li>
<li><a href="#md:scheduler"><strong>Scheduler</strong></a>
<ul>
<li><a href="#md:create-a-new-scheduler-scheduleroptions"><strong>Create a new scheduler (<code>SchedulerOptions</code>)</strong></a></li>
<li><a href="#md:start-and-stop-the-scheduler"><strong>Start and stop the scheduler</strong></a></li>
<li><a href="#md:scheduler-monitoring"><strong>Scheduler monitoring</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#md:license"><strong>License</strong></a></li>
</ul>
</li>
</ul>
<a id="md:introduction" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><strong>Introduction</strong><a href="#md:introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <strong>@mdf.js/tasks</strong> package is a set of tools designed to facilite the development of services that require the execution of tasks in a controlled manner. The package is composed of the following elements:</p>
<ul>
<li><strong>Tasks</strong>: <code>Single</code>, <code>Group</code> or <code>Sequence</code> are the types of tasks that can be executed, each one extends the <code>TaskHandler</code> class, that provides the basic functionality to manage the task, and include some additional properties and methods to control the execution of specific kind of tasks.
<ul>
<li><strong>Single</strong>: A single task that can be executed.</li>
<li><strong>Group</strong>: A group of tasks that can be executed in parallel.</li>
<li><strong>Sequence</strong>: A specific sequence needed to execute a concrete task, allowing to define pre, post and finally tasks, besides the main task.</li>
</ul>
</li>
<li><strong>Limiter</strong>: A class that allows to control the number of tasks that can be executed in parallel.</li>
<li><strong>Scheduler</strong>: A class that allows to schedule the execution of tasks in a specific time.</li>
</ul>
<p>Each element is designed to be used together with the others, but <em>tasks</em> can be used independently if needed.</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><strong>Installation</strong><a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To install the <strong>@mdf.js/tasks</strong> package, you can use the following commands:</p>
<ul>
<li><strong>NPM</strong>:</li>
</ul>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@mdf.js/tasks</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><strong>Yarn</strong>:</li>
</ul>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@mdf.js/tasks</span>
</code><button type="button">Copy</button></pre>

<a id="md:use" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><strong>Use</strong><a href="#md:use" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:tasks" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><strong>Tasks</strong><a href="#md:tasks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Tasks are the main element of the package, based in the <code>TaskHandler</code> class, that provides the basic functionality to manage the task, and include some additional properties and methods to control the execution of specific kind of tasks. These tasks acts as <em>instances of task execution requests</em>, allowing to control the execution and result. The <code>Single</code> task is the basic task, <code>Group</code>and <code>Sequence</code> are <em>different</em> ways to execute <code>Single</code> tasks, allowing to resolve more complex scenarios.</p>
<p>As each task type extends the <code>TaskHandler</code> class, let's see the basic properties and methods that are common to all of them:</p>
<ul>
<li>
<p><strong>Properties</strong>:</p>
<ul>
<li>
<p><strong><code>uuid</code></strong> (<code>string</code>): The unique identifier of the task instance.</p>
</li>
<li>
<p><strong><code>taskId</code></strong> (<code>string</code>): The identifier of the task, defined by the user.</p>
</li>
<li>
<p><strong><code>createdAt</code></strong> (<code>Date</code>): The date and time when the task was created.</p>
</li>
<li>
<p><strong><code>priority</code></strong> (<code>number</code>): The priority of the task, used to order the execution of tasks in <code>Limiter</code> or <code>Scheduler</code>.</p>
</li>
<li>
<p><strong><code>weight</code></strong> (<code>number</code>): The weight of the task, used in the <code>Limiter</code> to control the number of tasks that can be executed in parallel.</p>
</li>
<li>
<p><strong><code>metadata</code></strong> (<code>Metadata</code>): The task metadata object that contains all the relevant information about the task and its execution.</p>
<pre><code class="typescript"><span class="hl-7">/** Metadata of the execution of the task */</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-5">MetaData</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">/** Unique task identification, unique for each task */</span><br/><span class="hl-1">  </span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Task identifier, defined by the user */</span><br/><span class="hl-1">  </span><span class="hl-6">taskId</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Status of the task */</span><br/><span class="hl-1">  </span><span class="hl-6">status</span><span class="hl-1">: </span><span class="hl-5">TaskState</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Date when the task was created */</span><br/><span class="hl-1">  </span><span class="hl-6">createdAt</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Date when the task was executed in ISO format */</span><br/><span class="hl-1">  </span><span class="hl-6">executedAt</span><span class="hl-1">?: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Date when the task was completed in ISO format */</span><br/><span class="hl-1">  </span><span class="hl-6">completedAt</span><span class="hl-1">?: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Date when the task was cancelled in ISO format */</span><br/><span class="hl-1">  </span><span class="hl-6">cancelledAt</span><span class="hl-1">?: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Date when the task was failed in ISO format  */</span><br/><span class="hl-1">  </span><span class="hl-6">failedAt</span><span class="hl-1">?: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Reason of failure or cancellation */</span><br/><span class="hl-1">  </span><span class="hl-6">reason</span><span class="hl-1">?: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Duration of the task in milliseconds */</span><br/><span class="hl-1">  </span><span class="hl-6">duration</span><span class="hl-1">?: </span><span class="hl-5">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Task priority */</span><br/><span class="hl-1">  </span><span class="hl-6">priority</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Task weight */</span><br/><span class="hl-1">  </span><span class="hl-6">weight</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">/** Additional metadata objects, store the metadata information from related tasks in a sequence or group */</span><br/><span class="hl-1">  </span><span class="hl-6">$meta</span><span class="hl-1">?: </span><span class="hl-5">MetaData</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
</li>
<li>
<p><strong>Methods</strong>:</p>
<ul>
<li><strong><code>async execute(): Promise&lt;Result&gt;</code></strong>: Executes the task, returning a promise with the result of the execution.</li>
<li><strong><code>async cancel(error?: Crash): void</code></strong>: Cancels the task execution.</li>
</ul>
</li>
</ul>
<p>All the different tasks constructors, besides other parameters, allow to configure the task execution with the following options (<code>TaskOptions</code>):</p>
<ul>
<li><strong><code>id</code></strong> (<code>string</code>): The identifier of the task, defined by the user, if not provided, a random identifier will be generated.</li>
<li><strong><code>priority</code></strong> (<code>number</code>): The priority of the task, used to order the execution of tasks in <code>Limiter</code> or <code>Scheduler</code>. Default is <code>0</code>.</li>
<li><strong><code>weight</code></strong> (<code>number</code>): The weight of the task, used in the <code>Limiter</code> to control the number of tasks that can be executed in parallel. Default is <code>1</code>.</li>
<li><strong><code>retryOptions</code></strong> (<code>RetryOptions</code>): The options to retry the task in case of failure. Check the <code>RetryOptions</code> interface for more information in the <code>@mdf.js/utils</code> package.</li>
<li><code>bind</code> (<code>any</code>): The object to bind the task to, if the task is a method of a class.</li>
<li><code>retryStrategy</code> (<code>RetryStrategy</code>): The strategy to retry the task in case of <code>execute</code> method being called again. Possible values are:
<ul>
<li><code>retry</code> (<code>RETRY_STRATEGY.RETRY</code>): The task will allow to retry the execution again if it fails, updating the metadata in each retry.</li>
<li><code>failAfterSuccess</code> (<code>RETRY_STRATEGY.FAIL_AFTER_SUCCESS</code>): The task will allow to be executed again if it fails, but it will rejects if there are more retries before the success.</li>
<li><code>failAfterExecuted</code> (<code>RETRY_STRATEGY.FAIL_AFTER_EXECUTED</code>): The task will allow only one execution, if it fails, it will fail in every retry.</li>
<li><code>notExecAfterSuccess</code> (<code>RETRY_STRATEGY.NOT_EXEC_AFTER_SUCCESS</code>): The task will resolve the result of first successful execution, if it fails, it will allow to be executed again.</li>
</ul>
</li>
</ul>
<a id="md:single" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Single</strong><a href="#md:single" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>Single</code> task is the basic task, it has not more options than the <code>TaskHandler</code> class, but it can be used to execute any kind of task, as a function or a method of a class. The <code>Single</code> task can be used to execute a single task, and it can be used in combination with the <code>Limiter</code> or <code>Scheduler</code> classes to control the execution of tasks.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Single</span><span class="hl-1">, </span><span class="hl-6">Metadata</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Crash</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/crash&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// Any kind of promise can be used as task</span><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-0">task</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">): </span><span class="hl-5">Promise</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-5">Promise</span><span class="hl-1">(</span><span class="hl-6">resolve</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1"> * </span><span class="hl-9">2</span><span class="hl-1">);</span><br/><span class="hl-1">    }, </span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span><br/><span class="hl-7">// Or a method of a class</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">task</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">): </span><span class="hl-5">Promise</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-5">Promise</span><span class="hl-1">(</span><span class="hl-6">resolve</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1"> * </span><span class="hl-9">2</span><span class="hl-1">);</span><br/><span class="hl-1">      }, </span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">myInstance</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MyClass</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// A task can be created with a function</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">unBindedTask</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">unBindedTask</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// Or binded to a class instance</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">bindedTask</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">myInstance</span><span class="hl-1">.</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bind:</span><span class="hl-1"> </span><span class="hl-6">myInstance</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">bindedTask</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:group" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Group</strong><a href="#md:group" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>Group</code> task is a set of tasks that can be executed in order. The <code>Result</code> of the execution of the group is an array with the results of each task, and the <code>$meta</code> property of the metadata object contains the metadata of each task.</p>
<p>The constructor of the <code>Group</code> has the next parameters:</p>
<ul>
<li><code>tasks</code> (<code>TaskHandler[]</code>): The tasks to be executed in the group.</li>
<li><code>options</code> (<code>TaskOptions</code>): The options to configure the group task execution.</li>
<li><code>atLeastOne</code> (<code>boolean</code>): If <code>true</code>, the group will resolve the result if at least one task is resolved, if <code>false</code>, all the tasks must be resolved to resolve the group.</li>
</ul>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Group</span><span class="hl-1">, </span><span class="hl-6">Metadata</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Crash</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/crash&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">tasks</span><span class="hl-1"> = [</span><br/><span class="hl-1">  </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">group</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Group</span><span class="hl-1">(</span><span class="hl-6">tasks</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;group1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">group</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">[], </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Group done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:sequence" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Sequence</strong><a href="#md:sequence" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>Sequence</code> task is a special king of task that need to execute a sequence of tasks in a specific order. The <code>Sequence</code> task allows to define pre, post and finally tasks, besides the main task. The <code>Result</code> of the execution of the sequence is the result of the main task, and the <code>$meta</code> property of the metadata object contains the metadata of each task.</p>
<p>The constructor of the <code>Sequence</code> has the next parameters:</p>
<ul>
<li><code>pattern</code> (<code>SequencePattern</code>): The pattern of the sequence, that defines the pre, post, main and finally tasks:
<ul>
<li><code>pre</code> (<code>TaskHandler[]</code>): The tasks to be executed before the main task.</li>
<li><code>task</code> (<code>TaskHandler</code>): The main task to be executed.</li>
<li><code>post</code> (<code>TaskHandler[]</code>): The tasks to be executed after the main task, if the main task fails, the post tasks will not be executed.</li>
<li><code>finally</code> (<code>TaskHandler[]</code>): The tasks to be executed at the end of the sequence, even if the main task fails.</li>
</ul>
</li>
<li><code>options</code> (<code>TaskOptions</code>): The options to configure the sequence task execution.</li>
</ul>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Sequence</span><span class="hl-1">, </span><span class="hl-6">Metadata</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Crash</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/crash&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">sequence</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Sequence</span><span class="hl-1">(</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">pre:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;pre1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-6">post:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">15</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;post1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-6">finally:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">20</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;finally1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;sequence1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">sequence</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Sequence done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:limiter" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><strong>Limiter</strong><a href="#md:limiter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>Limiter</code> class allows to control the execution of tasks, limiting the number of tasks that can be executed in parallel, the order of the execution based in the priority of the tasks, the cadence of the execution and &quot;throughput&quot;, controlling the number of tasks that can be executed in a specific time.</p>
<p>The <code>Limiter</code> accepts tasks of any kind, <code>Single</code>, <code>Group</code> or <code>Sequence</code>, allowing to <code>schedule</code> the execution of the tasks or <code>execute</code> them, taking always into account the <code>Limiter</code> configuration.</p>
<a id="md:create-a-new-limiter-limiteroptions" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Create a new limiter (<code>LimiterOptions</code>)</strong><a href="#md:create-a-new-limiter-limiteroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>In order to create a new <code>Limiter</code> instance, the constructor accepts a <code>LimiterOptions</code> object with the following properties:</p>
<ul>
<li><strong><code>concurrency</code></strong> (<code>number</code>): The maximum number of concurrent jobs. Default is <code>1</code>.</li>
<li><strong><code>delay</code></strong> (<code>number</code>): Delay between each job in milliseconds. Default is <code>0</code>. For <code>concurrency = 1</code>, the delay is applied after each job is finished. For <code>concurrency &gt; 1</code>, if the actual number of concurrent jobs is less than <code>concurrency</code>, the delay is applied after each job is finished, otherwise, the delay is applied after each job is started.</li>
<li><strong><code>retryOptions</code></strong> (<code>RetryOptions</code>): Set the default options for the retry process of the jobs. Default is <code>undefined</code>. Check the <code>RetryOptions</code> interface for more information in the <code>@mdf.js/utils</code> package.</li>
<li><strong><code>autoStart</code></strong> (<code>boolean</code>): Set whether the limiter should start to process the jobs automatically. Default is <code>true</code>.</li>
<li><strong><code>highWater</code></strong> (<code>number</code>): The maximum number of jobs in the queue. Default is <code>Infinity</code>.</li>
<li><strong><code>strategy</code></strong> (<code>Strategy</code>): The strategy to use when the queue length reaches highWater. Default is <code>'leak'</code>. Possible values are:
<ul>
<li><strong><code>leak</code></strong> (<code>STRATEGY.LEAK</code>): When adding a new job to a limiter, if the queue length reaches highWater, drop the oldest job with the lowest priority. This is useful when jobs that have been waiting for too long are not important anymore. If all the queued jobs are more important (based on their priority value) than the one being added, it will not be added.</li>
<li><strong><code>overflow</code></strong> (<code>STRATEGY.OVERFLOW</code>): When adding a new job to a limiter, if the queue length reaches highWater, do not add the new job. This strategy totally ignores priority levels.</li>
<li><strong><code>overflow-priority</code></strong> (<code>STRATEGY.OVERFLOW_PRIORITY</code>): Same as LEAK, except it will only drop jobs that are less important than the one being added. If all the queued jobs are as or more important than the new one, it will not be added.</li>
<li><strong><code>block</code></strong> (<code>STRATEGY.BLOCK</code>): When adding a new job to a limiter, if the queue length reaches highWater, the limiter falls into &quot;blocked mode&quot;. All queued jobs are dropped and no new jobs will be accepted until the limiter unblocks. It will unblock after penalty milliseconds have passed without receiving a new job. penalty is equal to 15 * minTime (or 5000 if minTime is 0) by default. This strategy is ideal when bruteforce attacks are to be expected. This strategy totally ignores priority levels.</li>
</ul>
</li>
<li><strong><code>penalty</code></strong> (<code>number</code>): The penalty for the BLOCK strategy in milliseconds. Default is <code>0</code>.</li>
<li><strong><code>bucketSize</code></strong> (<code>number</code>): The bucket size for the rate limiter. Default is <code>0</code>. If the bucket size is 0, only <code>concurrency</code> and <code>delay</code> will be used to limit the rate of the jobs. If the bucket size is greater than 0, the consumption of the tokens will be used to limit the rate of the jobs. The bucket size is the maximum number of tokens that can be consumed in the interval. The interval is defined by the <code>tokensPerInterval</code> and <code>interval</code> properties.</li>
<li><strong><code>tokensPerInterval</code></strong> (<code>number</code>): Define the number of tokens that will be added to the bucket at the beginning of the interval. Default is <code>1</code>.</li>
<li><strong><code>interval</code></strong> (<code>number</code>): Define the interval in milliseconds. Default is <code>1000</code>.</li>
</ul>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Limiter</span><span class="hl-1">, </span><span class="hl-6">LimiterOptions</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">limiter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Limiter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:scheduling-and-executing-tasks" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><strong>Scheduling and executing tasks</strong><a href="#md:scheduling-and-executing-tasks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>Limiter</code> class allows to:</p>
<ul>
<li><strong><code>schedule</code></strong> the execution of tasks, that means that the tasks are added to the queue, and they will be executed when the limiter is ready to process them. When the task is executed two events: <code>done</code> and an event with the <code>taskId</code>, both of them with the same information:
<ul>
<li><code>on('done' | taskId, listener: (uuid: string, result: Result, meta: MetaData, error?: Crash) =&gt; void): this</code>:</li>
<li><strong><code>uuid</code></strong>: The unique identifier of the task instance.</li>
<li><strong><code>result</code></strong>: The result of the task execution.</li>
<li><strong><code>meta</code></strong>: The metadata of the task execution.</li>
<li><strong><code>error</code></strong>: The error in case of failure.</li>
</ul>
</li>
<li><strong><code>execute</code></strong> the task, that will wait until the limiter is ready to process the task, and execute it, resolving the result of the task execution.</li>
</ul>
<p>There are several methods to interact with the limiter and control the execution of the tasks:</p>
<ul>
<li><strong><code>start(): void</code></strong>: Start the limiter, allowing to process the tasks in the queue. If the limiter is already started, it will not do anything. If <code>autoStart</code> is <code>true</code>, the limiter will start automatically when a task is added to the queue.</li>
<li><strong><code>stop(): void</code></strong>: Stop the limiter, preventing to process the tasks in the queue. If the limiter is already stopped, it will not do anything.</li>
<li><strong><code>waitUntilEmpty(): Promise&lt;void&gt;</code></strong>: Wait until the queue is empty.</li>
<li><strong><code>clear(): void</code></strong>: Clear the queue, removing all the tasks in the queue.</li>
</ul>
<p>And several properties to get information about the limiter:</p>
<ul>
<li><strong><code>size</code></strong> (<code>number</code>): The number of tasks in the queue.</li>
<li><strong><code>pending</code></strong> (<code>number</code>): The number of tasks that are being executed.</li>
<li><strong><code>options</code></strong> (<code>LimiterOptions</code>): The options of the limiter.</li>
</ul>
<p>In order to create more complex scenarios, the <code>Limiter</code> class allows to use <code>pipe</code> limiters to control the execution of tasks in a more complex way. This option allows, for example, to create several limiters to pull information from different sources, ensuring that this sources are not overloaded, and <code>pipe</code> them to a main limiter that will protect the own system from being overloaded.</p>
<p><em>Using <code>schedule</code> method</em>:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Limiter</span><span class="hl-1">, </span><span class="hl-6">LimiterOptions</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">limiter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Limiter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">task1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">task2</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">limiter</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">limiter</span><span class="hl-1">.</span><span class="hl-0">schedule</span><span class="hl-1">(</span><span class="hl-6">task1</span><span class="hl-1">);</span><br/><span class="hl-6">limiter</span><span class="hl-1">.</span><span class="hl-0">schedule</span><span class="hl-1">(</span><span class="hl-6">task2</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><em>Using <code>execute</code> method</em>:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Limiter</span><span class="hl-1">, </span><span class="hl-6">LimiterOptions</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">limiter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Limiter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">task1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">task2</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Single</span><span class="hl-1">(</span><span class="hl-6">task</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">limiter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">task1</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-6">limiter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">task2</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:scheduler" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><strong>Scheduler</strong><a href="#md:scheduler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>Scheduler</code> class allows to schedule the execution of tasks based on <strong>resources</strong> and a <strong>polling times</strong>, this means periodically, controlling the execution of the tasks by the use of a <code>Limiter</code> instance per <strong>resource</strong>, piped with a <code>Limiter</code> for the <code>Scheduler</code> instance.</p>
<p>The <code>Scheduler</code> creates two types of cycles, a <strong>fast cycle</strong> and a <strong>slow cycle</strong>, per polling group and resource. The fast cycle is executed every time the polling group is reached, and the slow cycle is executed after <code>slowCycleRatio</code> fast cycles. The <code>Scheduler</code> class allows to control the execution of the tasks, and provides a set of metrics to monitor the execution of the tasks.</p>
<a id="md:create-a-new-scheduler-scheduleroptions" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Create a new scheduler (<code>SchedulerOptions</code>)</strong><a href="#md:create-a-new-scheduler-scheduleroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>In order to create a new <code>Scheduler</code> instance, the constructor accepts the next parameters:</p>
<ul>
<li><code>name</code> (<code>string</code>): The name of the scheduler.</li>
<li><code>options</code> (<code>SchedulerOptions</code>): The options to configure the scheduler:
<ul>
<li><strong><code>logger</code></strong> (<code>Logger</code>): The logger instance to use. If not provided, a default <code>DebugLogger</code> from the <code>@mdf.js/logger</code> package will be used with the name <code>mdf:scheduler:${name}</code>.</li>
<li><strong><code>limiterOptions</code></strong> (<code>LimiterOptions</code>): The options to configure the limiter of the scheduler.</li>
<li><strong><code>resources</code></strong> (<code>ResourcesConfigObject</code>): an object with an entry for each resource, where the key is the name of the resource, and the value is a <code>ResourceConfigEntry</code> with the following properties:
<ul>
<li><strong><code>limiterOptions</code></strong> (<code>LimiterOptions</code>): The options to configure the limiter of the resource.</li>
<li><strong><code>pollingGroups</code></strong> (<code>object</code>): A object with a entry for each polling group, where the key is the name of the group, and the value is a <code>TaskBaseConfig</code> array with the tasks to be executed in the group. The keys of this object should be of the type <code>PollingGroup</code>, this is a string with the format <code>${number}d</code>, <code>${number}h</code>, <code>${number}m</code>, <code>${number}s</code>, <code>${number}ms</code>, where <code>${number}</code> is the number of days, hours, minutes, seconds or milliseconds to wait between each polling.
The <code>TaskBaseConfig</code> could be a <code>SingleTaskBaseConfig</code>, a <code>GroupTaskBaseConfig</code> or a <code>SequenceTaskBaseConfig</code> object, with the following properties:
<ul>
<li><strong><code>SingleTaskBaseConfig</code></strong>:
<ul>
<li><strong><code>task</code></strong> (<code>TaskAsPromise</code>): Promise to be executed.</li>
<li><strong><code>taskArgs</code></strong> (<code>any[]</code>): Arguments to be passed to the task.</li>
<li><strong><code>options</code></strong> (<code>TaskOptions</code>): a <code>TaskOptions</code> object where the <code>id</code> property is mandatory.</li>
</ul>
</li>
<li><strong><code>GroupTaskBaseConfig</code></strong>:
<ul>
<li><strong><code>tasks</code></strong> (<code>SingleTaskBaseConfig[]</code>): Array of <code>SingleTaskBaseConfig</code> objects.</li>
<li><strong><code>options</code></strong> (<code>TaskOptions</code>): a <code>TaskOptions</code> object where the <code>id</code> property is mandatory.</li>
</ul>
</li>
<li><strong><code>SequenceTaskBaseConfig</code></strong>:
<ul>
<li><strong><code>pattern</code></strong> (<code>SequencePattern</code>): The pattern of the sequence, that defines the pre, post, main and finally tasks:
<ul>
<li><code>pre</code> (<code>SingleTaskBaseConfig[]</code>): The tasks to be executed before the main task.</li>
<li><code>task</code> (<code>SingleTaskBaseConfig</code>): The main task to be executed.</li>
<li><code>post</code> (<code>SingleTaskBaseConfig[]</code>): The tasks to be executed after the main task, if the main task fails, the post tasks will not be executed.</li>
<li><code>finally</code> (<code>SingleTaskBaseConfig[]</code>): The tasks to be executed at the end of the sequence, even if the main task fails.</li>
</ul>
</li>
<li><strong><code>options</code></strong> (<code>TaskOptions</code>): a <code>TaskOptions</code> object where the <code>id</code> property is mandatory.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>slowCycleRatio</code></strong> (<code>number</code>): number of fast cycles to be executed before a slow cycle is executed. Default is <code>3</code>.</li>
<li><strong><code>cyclesOnStats</code></strong> (<code>number</code>): number of cycles to be included in the statistics. Default is <code>10</code>.</li>
</ul>
</li>
</ul>
<p>The <code>Scheduler</code> has generic parameters in order to be typed:</p>
<ul>
<li><code>Result</code> (<code>Result</code>): The type of the result of the tasks. If not provided, the result will be <code>any</code>.</li>
<li><code>Binding</code> (<code>Binding</code>): The type of the object to bind the tasks to. If not provided, the binding will be <code>any</code>.</li>
<li><code>PollingGroups</code> (<code>PollingGroup</code>): The available polling groups. If not provided, the polling groups will be <code>DefaultPollingGroups</code>: <code>'1d'</code>, <code>'12h'</code>, <code>'6h'</code>, <code>'6h'</code>, <code>'1h'</code>, <code>'30m'</code>, <code>'15m'</code>, <code>'10m'</code>, <code>'5m'</code>, <code>'1m'</code>, <code>'30s'</code>, <code>'10s'</code>, <code>'5s'</code>.</li>
</ul>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-6">Scheduler</span><span class="hl-1">, </span><span class="hl-6">SchedulerOptions</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mdf.js/tasks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-6">resource</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">) {};</span><br/><span class="hl-1">  </span><span class="hl-0">task1</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">): </span><span class="hl-5">Promise</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-5">Promise</span><span class="hl-1">(</span><span class="hl-6">resolve</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1"> * </span><span class="hl-9">2</span><span class="hl-1">);</span><br/><span class="hl-1">      }, </span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-0">task2</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">): </span><span class="hl-5">Promise</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-5">Promise</span><span class="hl-1">(</span><span class="hl-6">resolve</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1"> * </span><span class="hl-9">3</span><span class="hl-1">);</span><br/><span class="hl-1">      }, </span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">resource1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MyClass</span><span class="hl-1">(</span><span class="hl-2">&#39;resource1&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">resource2</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MyClass</span><span class="hl-1">(</span><span class="hl-2">&#39;resource2&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">MyPollingGroups</span><span class="hl-1"> = </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">scheduler</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Scheduler</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">MyClass</span><span class="hl-1">, </span><span class="hl-5">MyPollingGroups</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;myScheduler&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">limiterOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">resources:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">resource1:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">limiterOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-6">pollingGroups:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">          {</span><br/><span class="hl-1">            </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource1</span><span class="hl-1">.</span><span class="hl-6">task1</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">5</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">          {</span><br/><span class="hl-1">            </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource1</span><span class="hl-1">.</span><span class="hl-6">task2</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">10</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-6">resource2:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">limiterOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-6">pollingGroups:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">          {</span><br/><span class="hl-1">            </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource2</span><span class="hl-1">.</span><span class="hl-6">task1</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">5</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">          {</span><br/><span class="hl-1">            </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource2</span><span class="hl-1">.</span><span class="hl-6">task2</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">10</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">              </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>New resources can be added to the scheduler using the <code>addResource</code> or <code>addResources</code> methods, and deleted using the <code>dropResource</code> method, in all the cases the <code>Scheduler</code> should be stopped, in other case the method will throw an error. The resources can be cleared using the <code>cleanup</code> method.</p>
<pre><code class="typescript"><span class="hl-6">scheduler</span><span class="hl-1">.</span><span class="hl-0">addResource</span><span class="hl-1">(</span><span class="hl-2">&#39;resource3&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">limiterOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">concurrency:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">highWater:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">strategy:</span><span class="hl-1"> </span><span class="hl-2">&#39;leak&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">penalty:</span><span class="hl-1"> </span><span class="hl-9">5000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">bucketSize:</span><span class="hl-1"> </span><span class="hl-9">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">tokensPerInterval:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">pollingGroups:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource2</span><span class="hl-1">.</span><span class="hl-6">task1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">5</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-6">:</span><span class="hl-1"> [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-6">task:</span><span class="hl-1"> </span><span class="hl-6">resource2</span><span class="hl-1">.</span><span class="hl-6">task2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">taskArgs:</span><span class="hl-1"> [</span><span class="hl-9">10</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;task2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">priority:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">weight:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-6">retryOptions:</span><span class="hl-1"> { </span><span class="hl-6">attempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">scheduler</span><span class="hl-1">.</span><span class="hl-0">dropResource</span><span class="hl-1">(</span><span class="hl-2">&#39;resource3&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">scheduler</span><span class="hl-1">.</span><span class="hl-0">cleanup</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:start-and-stop-the-scheduler" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Start and stop the scheduler</strong><a href="#md:start-and-stop-the-scheduler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>Scheduler</code> class allows to start and stop the scheduler, controlling the execution of the tasks:</p>
<ul>
<li><strong><code>async start(): Promise&lt;void&gt;</code></strong>: Start the scheduler, allowing to process the tasks in the polling groups. If the scheduler is already started, it will not do anything.</li>
<li><strong><code>async stop(): Promise&lt;void&gt;</code></strong>: Stop the scheduler, preventing to process the tasks in the polling groups. If the scheduler is already stopped, it will not do anything.</li>
<li><strong><code>async close(): Promise&lt;void&gt;</code></strong>: Close the scheduler, stopping the scheduler and clearing the polling groups.</li>
</ul>
<p>Every time a task is executed, the <code>done</code> event is emitted with the following parameters:</p>
<ul>
<li><strong><code>uuid</code></strong>: The unique identifier of the task instance.</li>
<li><strong><code>result</code></strong>: The result of the task execution.</li>
<li><strong><code>meta</code></strong>: The metadata of the task execution.</li>
<li><strong><code>error</code></strong>: The error in case of failure.</li>
<li><strong><code>resource</code></strong>: The name of the resource where the task was executed.</li>
</ul>
<pre><code class="typescript"><span class="hl-6">scheduler</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;done&#39;</span><span class="hl-1">, (</span><span class="hl-6">uuid</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">: </span><span class="hl-5">Metadata</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">?: </span><span class="hl-5">Crash</span><span class="hl-1">, </span><span class="hl-6">resource</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task done&#39;</span><span class="hl-1">, </span><span class="hl-6">uuid</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">, </span><span class="hl-6">meta</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">, </span><span class="hl-6">resource</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:scheduler-monitoring" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><strong>Scheduler monitoring</strong><a href="#md:scheduler-monitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>Scheduler</code> class implements the <code>Layer.App.Service</code> interface, so it can be used with the <code>@mdf.js/service-registry</code> package to monitor the scheduler. The <code>Scheduler</code> class collect the following metrics for each resource and polling group:</p>
<ul>
<li><strong><code>scanTime</code></strong> (<code>Date</code>): The date and time when the scan was performed.</li>
<li><strong><code>cycles</code></strong> (<code>number</code>): The number of cycles performed.</li>
<li><strong><code>overruns</code></strong> (<code>number</code>): The number of cycles with overruns.</li>
<li><strong><code>consecutiveOverruns</code></strong> (<code>number</code>): The number of consecutive overruns.</li>
<li><strong><code>averageCycleDuration</code></strong> (<code>number</code>): The average cycle duration in milliseconds.</li>
<li><strong><code>maxCycleDuration</code></strong> (<code>number</code>): The maximum cycle duration in milliseconds.</li>
<li><strong><code>minCycleDuration</code></strong> (<code>number</code>): The minimum cycle duration in milliseconds.</li>
<li><strong><code>lastCycleDuration</code></strong> (<code>number</code>): The last cycle duration in milliseconds.</li>
<li><strong><code>inFastCycleTasks</code></strong> (<code>number</code>): The number of tasks included on the regular cycle.</li>
<li><strong><code>inSlowCycleTasks</code></strong> (<code>number</code>): The number of tasks included on the slow cycle. This cycle is executed after <code>slowCycleRatio</code> fast cycles.</li>
<li><strong><code>inOffCycleTasks</code></strong> (<code>number</code>): The number of tasks included on the off cycle, these are not executed.</li>
<li><strong><code>pendingTasks</code></strong> (<code>number</code>): The number of tasks in execution in this moment.</li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><strong>License</strong><a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Copyright 2024 Mytra Control S.L. All rights reserved.</p>
<p>Use of this source code is governed by an MIT-style license that can be found in the LICENSE file or at <a href="https://opensource.org/licenses/MIT" target="_blank" class="external">https://opensource.org/licenses/MIT</a>.</p>
</section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">@mdf.js/tasks</h3><div class="tsd-index-list"><a href="../types/_mdf_js_tasks.DoneListener.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Done<wbr/>Listener</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Other</h3><div class="tsd-index-list"><a href="../enums/_mdf_js_tasks.LimiterState.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Limiter<wbr/>State</span></a>
<a href="../enums/_mdf_js_tasks.RETRY_STRATEGY.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>RETRY_<wbr/>STRATEGY</span></a>
<a href="../enums/_mdf_js_tasks.STRATEGY.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>STRATEGY</span></a>
<a href="../enums/_mdf_js_tasks.TASK_STATE.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>TASK_<wbr/>STATE</span></a>
<a href="../classes/_mdf_js_tasks.Group.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Group</span></a>
<a href="../classes/_mdf_js_tasks.Limiter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Limiter</span></a>
<a href="../classes/_mdf_js_tasks.PollingExecutor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Polling<wbr/>Executor</span></a>
<a href="../classes/_mdf_js_tasks.Scheduler.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Scheduler</span></a>
<a href="../classes/_mdf_js_tasks.Sequence.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Sequence</span></a>
<a href="../classes/_mdf_js_tasks.Single.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Single</span></a>
<a href="../classes/_mdf_js_tasks.TaskHandler.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Task<wbr/>Handler</span></a>
<a href="../interfaces/_mdf_js_tasks.ConsolidatedLimiterOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Consolidated<wbr/>Limiter<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.GroupTaskBaseConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Group<wbr/>Task<wbr/>Base<wbr/>Config</span></a>
<a href="../interfaces/_mdf_js_tasks.LimiterOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Limiter<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.MetaData.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Meta<wbr/>Data</span></a>
<a href="../interfaces/_mdf_js_tasks.PollingManagerOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Polling<wbr/>Manager<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.PollingStats.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Polling<wbr/>Stats</span></a>
<a href="../interfaces/_mdf_js_tasks.QueueOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Queue<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.ResourceConfigEntry.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Resource<wbr/>Config<wbr/>Entry</span></a>
<a href="../interfaces/_mdf_js_tasks.ResourcesConfigObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Resources<wbr/>Config<wbr/>Object</span></a>
<a href="../interfaces/_mdf_js_tasks.SchedulerOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Scheduler<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.SequencePattern.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Sequence<wbr/>Pattern</span></a>
<a href="../interfaces/_mdf_js_tasks.SequenceTaskBaseConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Sequence<wbr/>Task<wbr/>Base<wbr/>Config</span></a>
<a href="../interfaces/_mdf_js_tasks.SingleTaskBaseConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Single<wbr/>Task<wbr/>Base<wbr/>Config</span></a>
<a href="../interfaces/_mdf_js_tasks.TaskOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Task<wbr/>Options</span></a>
<a href="../interfaces/_mdf_js_tasks.WellIdentifiedTaskOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Well<wbr/>Identified<wbr/>Task<wbr/>Options</span></a>
<a href="../types/_mdf_js_tasks.DefaultPollingGroups.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Default<wbr/>Polling<wbr/>Groups</span></a>
<a href="../types/_mdf_js_tasks.MetricsDefinitions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Metrics<wbr/>Definitions</span></a>
<a href="../types/_mdf_js_tasks.PollingGroup.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Polling<wbr/>Group</span></a>
<a href="../types/_mdf_js_tasks.RetryStrategy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Retry<wbr/>Strategy</span></a>
<a href="../types/_mdf_js_tasks.ScanMetricsDefinitions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Scan<wbr/>Metrics<wbr/>Definitions</span></a>
<a href="../types/_mdf_js_tasks.Strategy-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Strategy</span></a>
<a href="../types/_mdf_js_tasks.TaskBaseConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Task<wbr/>Base<wbr/>Config</span></a>
<a href="../types/_mdf_js_tasks.TaskMetricsDefinitions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Task<wbr/>Metrics<wbr/>Definitions</span></a>
<a href="../types/_mdf_js_tasks.TaskState.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Task<wbr/>State</span></a>
<a href="../variables/_mdf_js_tasks.STRATEGIES.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-32"></use></svg><span>STRATEGIES</span></a>
<a href="../variables/_mdf_js_tasks.TASK_STATES.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-32"></use></svg><span>TASK_<wbr/>STATES</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:mdfjstasks"><span>@mdf.js/tasks</span></a><ul><li><a href="#md:table-of-contents"><span>Table of contents</span></a></li><li><a href="#md:introduction"><span>Introduction</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:use"><span>Use</span></a></li><li><ul><li><a href="#md:tasks"><span>Tasks</span></a></li><li><ul><li><a href="#md:single"><span>Single</span></a></li><li><a href="#md:group"><span>Group</span></a></li><li><a href="#md:sequence"><span>Sequence</span></a></li></ul></li><li><a href="#md:limiter"><span>Limiter</span></a></li><li><ul><li><a href="#md:create-a-new-limiter-limiteroptions"><span>Create a new limiter (<wbr/>Limiter<wbr/>Options)</span></a></li></ul></li><li><a href="#md:scheduling-and-executing-tasks"><span>Scheduling and executing tasks</span></a></li><li><a href="#md:scheduler"><span>Scheduler</span></a></li><li><ul><li><a href="#md:create-a-new-scheduler-scheduleroptions"><span>Create a new scheduler (<wbr/>Scheduler<wbr/>Options)</span></a></li><li><a href="#md:start-and-stop-the-scheduler"><span>Start and stop the scheduler</span></a></li><li><a href="#md:scheduler-monitoring"><span>Scheduler monitoring</span></a></li></ul></li></ul></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@mdf.js</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
